(()=>{"use strict";const e=class{constructor(){this.gameBoardArray=this.createGameBoard(),this.missedAttacks=[],this.ships=[]}createGameBoard(){let e=[],t=[],s=1;for(let i=1;i<11;i++){let i=1;for(let e=1;e<11;e++)t.push({row:s,col:i++,shipName:void 0,shipIndex:void 0});s++,e.push(t),t=[]}return e}getGameBoard(){return this.gameBoardArray}checkValidMove(e,t,s){return!(e<1||e+s>11||t<1||t>10)&&void 0===this.gameBoardArray[e-1][t-1].shipName}placeShip(e,t,s){if(!1===this.checkValidMove(e,t,s.length))return!1;this.ships.push(s);let i=[];if(this.gameBoardArray[e-1][t-1].shipName=s.name,i.push(this.gameBoardArray[e-1][t-1]),s.length>1)for(let r=1;r<s.length;r++)this.gameBoardArray[e-1+[r][0]][t-1].shipName=s.name,i.push(this.gameBoardArray[e-1][t-1]);return i}receiveAttack(e,t){if(void 0!==this.gameBoardArray[e-1][t-1].shipName){let s;return this.ships.forEach((i=>{i.name===this.gameBoardArray[e-1][t-1].shipName&&(i.hit(),s=i)})),s.hits}if(void 0===this.gameBoardArray[e-1][t-1].shipName)return this.missedAttacks.push(this.gameBoardArray[e-1][t-1]),"Miss!"}getMissedAttacks(){let e=[];return this.missedAttacks.forEach((t=>{const s={row:t.row[0],col:t.col};e.push(s)})),e}allShipsSunk(){let e=[];return this.ships.forEach((t=>{!0===t.sunk&&e.push(t)})),this.ships.length===e.length}},t=function(e,t){return{name:t,length:e,hits:0,sunk:!1,hit(){this.hits++,this.isSunk()},isSunk(){this.hits===e&&(this.sunk=!0)}}};!function(){const s=new t(5,"Carrier"),i=new t(4,"Battleship"),r=new t(3,"Cruiser"),a=new t(3,"Submarine"),h=new t(2,"Destroyer"),o=new e,c=new e,l=new class{constructor(){this.playerTiles=[],this.compTiles=[]}addTiles(e,t){const s=document.querySelector(".compboard"),i=document.querySelector(".playerboard");e.forEach((e=>{e.forEach((e=>{const t=document.createElement("div");t.classList.add("tile"),t.setAttribute("row",e.col),t.setAttribute("col",e.row),t.addEventListener("click",(()=>{alert("row: "+t.getAttribute("col")+" col: "+t.getAttribute("row")+" shipName: "+t.getAttribute("shipName"))})),i.appendChild(t),this.playerTiles.push(t)}))})),t.forEach((e=>{e.forEach((e=>{const t=document.createElement("div");t.classList.add("tile"),t.setAttribute("col",e.row),t.setAttribute("row",e.col),t.addEventListener("click",(()=>{alert("row: "+t.getAttribute("col")+" col: "+t.getAttribute("row")+" shipName: "+t.getAttribute("shipName"))})),s.appendChild(t),this.compTiles.push(t)}))}))}addShips(e,t){e.forEach((e=>{e.forEach((e=>{if(void 0!==e.shipName){const t=e.row,s=e.col;this.playerTiles.forEach((i=>{const r=i.getAttribute("col"),a=i.getAttribute("row");r==t&&a==s&&(i.setAttribute("shipName",e.shipName),i.classList.add("ship"),console.log(i))}))}}))})),t.forEach((e=>{e.forEach((e=>{if(void 0!==e.shipName){const t=e.row,s=e.col;this.compTiles.forEach((i=>{const r=i.getAttribute("col"),a=i.getAttribute("row");r==t&&a==s&&(i.setAttribute("shipName",e.shipName),i.classList.add("ship"),console.log(i))}))}}))}))}};o.placeShip(2,4,s),o.placeShip(7,7,i),o.placeShip(7,10,r),o.placeShip(1,1,a),o.placeShip(2,9,h),c.placeShip(4,5,s),c.placeShip(1,2,i),c.placeShip(5,8,r),c.placeShip(8,1,a),c.placeShip(1,10,h),l.addTiles(o.getGameBoard(),c.getGameBoard()),l.addShips(o.getGameBoard(),c.getGameBoard())}()})();